<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>sh_gm_Online</name>
    <events>
        <variable constant="0" name="debugVar" sid="740103586084863" static="0" type="text"></variable>
        <event-group description="" sid="796384898782648" title="OnlineMultiplayer">
            <sub-events>
                <event-group description="" sid="305608738900300" title="OnlineMultiplayer&gt;Additional">
                    <sub-events>
                        <event-block sid="232795148985829">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="240058782798742" type="ply_Hitbox">
                                    <param id="0" name="Instance variable">id</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">focusedHitboxId</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="SonicPhysics" id="14" name="Set enabled" sid="612837726103456" type="ply_Hitbox">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="946779711788143">
                            <conditions>
                                <condition id="-22" name="Else" sid="106266840756994" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="SonicPhysics" id="14" name="Set enabled" sid="759092900261366" type="ply_Hitbox">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="430174277806377" type="ply_Hitbox">
                                    <param id="0" name="Instance variable">char_isDefaultAnims</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="173496472216609" title="OnlineMultiplayer&gt;Connecting">
                    <sub-events>
                        <event-block sid="420721878430838">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="835794836308393" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Connect" sid="923165763678452" type="Socket">
                                    <param id="0" name="Address">&quot;localhost&quot;</param>
                                    <param id="1" name="Port">8000</param>
                                </action>
                                <action id="0" name="Set New Object" sid="482697574750931" type="online_MyChar">
                                    <param id="0" name="Reference point">0</param>
                                    <param id="1" name="Key {n}"></param>
                                </action>
                                <action id="0" name="Set New Object" sid="797674518064423" type="online_OtherChars">
                                    <param id="0" name="Reference point">0</param>
                                    <param id="1" name="Key {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="121575438568541">
                            <conditions>
                                <condition id="1" name="On connect" sid="802589463401693" type="Socket" />
                            </conditions>
                            <actions>
                                <action id="20" name="Set Value" sid="643771596194632" type="online_MyChar">
                                    <param id="0" name="Value">ply_Hitbox.id</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;id&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="855054203410679" type="online_MyChar">
                                    <param id="0" name="Value">ply_Hitbox.char</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;charac&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="355291990161496" type="online_MyChar">
                                    <param id="0" name="Value">round(ply_Hitbox.X)</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;x&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="791385878862932" type="online_MyChar">
                                    <param id="0" name="Value">round(ply_Hitbox.Y)</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;y&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="355931842078232" type="online_MyChar">
                                    <param id="0" name="Value">ply_Hitbox.anim_name</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;anim&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="465527458570482" type="online_MyChar">
                                    <param id="0" name="Value">LayoutName</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;place&quot;</param>
                                </action>
                                <action id="4" name="Emit" sid="888162789490213" type="Socket">
                                    <param id="0" name="Event">&quot;hitboxLoad&quot;</param>
                                    <param id="1" name="Data">online_MyChar.AsJson(0)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="797224655179998" title="OnlineMultiplayer&gt;Emitting">
                    <sub-events>
                        <event-block sid="390076737952291">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="540593780117577" type="ply_Hitbox">
                                    <param id="0" name="Instance variable">id</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">focusedHitboxId</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="681228252691688" type="System">
                                    <param id="0" name="First value">abs(lerp(ply_Hitbox.SonicPhysics.Speed, -1, 0.2))</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">-1</param>
                                </condition>
                                <condition id="-6" name="Every X seconds" sid="219993148505176" type="System">
                                    <param id="0" name="Interval (seconds)">0.05</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="20" name="Set Value" sid="900390620471079" type="online_MyChar">
                                    <param id="0" name="Value">ply_Hitbox.id</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;id&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="204016317593275" type="online_MyChar">
                                    <param id="0" name="Value">ply_Hitbox.char</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;charac&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="600370352006914" type="online_MyChar">
                                    <param id="0" name="Value">round(ply_Hitbox.X)</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;x&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="869639417672608" type="online_MyChar">
                                    <param id="0" name="Value">round(ply_Hitbox.Y)</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;y&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="169197748106189" type="online_MyChar">
                                    <param id="0" name="Value">round(ply_Hitbox.sonicphysics.VectorX)</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;vx&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="551941977059417" type="online_MyChar">
                                    <param id="0" name="Value">round(ply_Hitbox.sonicphysics.Vectory)</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;vy&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="154689443946426" type="online_MyChar">
                                    <param id="0" name="Value">ply_Hitbox.anim_name</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;animname&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="751957352348647" type="online_MyChar">
                                    <param id="0" name="Value">ply_Hitbox.anim_speed</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;animspeed&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="827471698634919" type="online_MyChar">
                                    <param id="0" name="Value">round(ply_Hitbox.anim_isMirrored)</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;mirrored&quot;</param>
                                </action>
                                <action id="20" name="Set Value" sid="579929829506060" type="online_MyChar">
                                    <param id="0" name="Value">LayoutName</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}">&quot;place&quot;</param>
                                </action>
                                <action id="4" name="Emit" sid="138498104305199" type="Socket">
                                    <param id="0" name="Event">&quot;hitboxInfo&quot;</param>
                                    <param id="1" name="Data">online_MyChar.AsJson(0)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="756525677145746" title="OnlineMultiplayer&gt;Receiving">
                    <sub-events>
                        <event-block sid="905757864413715">
                            <conditions>
                                <condition id="5" name="On event received" sid="651745695579126" type="Socket">
                                    <param id="0" name="Socket Event">&quot;hitboxInfo&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="210200582265449" type="Function">
                                    <param id="0" name="Name">&quot;online_hitboxInfo&quot;</param>
                                    <param id="1" name="Parameter {n}">Socket.LastData</param>
                                </action>
                                <action id="-9" name="Set value" sid="809942448382017" type="System">
                                    <param id="0" name="Variable">debugVar</param>
                                    <param id="1" name="Value">Socket.LastData</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="695402930638304">
                            <conditions>
                                <condition id="0" name="On function" sid="796974019952176" type="Function">
                                    <param id="0" name="Name">&quot;online_hitboxInfo&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="60" name="LoadJSON" sid="670456671547440" type="online_OtherChars">
                                    <param id="0" name="JSON">Function.Param(0)</param>
                                    <param id="1" name="Reference point">0</param>
                                    <param id="2" name="Key {n}"></param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="174589098056418">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="279100923098463" type="ply_Hitbox">
                                            <param id="0" name="Instance variable">id</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">online_OtherChars.Value(0, &quot;id&quot;)</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="347195413558382" type="System">
                                            <param id="0" name="First value">online_OtherChars.Value(0, &quot;id&quot;)</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Second value">focusedHitboxId</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="621760327443744" type="ply_Hitbox">
                                            <param id="0" name="X">online_OtherChars.Value(0, &quot;x&quot;)</param>
                                            <param id="1" name="Y">online_OtherChars.Value(0, &quot;y&quot;)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="832673778861730" type="ply_Hitbox">
                                            <param id="0" name="Instance variable">anim_name</param>
                                            <param id="1" name="Value">online_OtherChars.Value(0, &quot;animname&quot;)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="768232703087396" type="ply_Hitbox">
                                            <param id="0" name="Instance variable">anim_speed</param>
                                            <param id="1" name="Value">online_OtherChars.Value(0, &quot;animspeed&quot;)</param>
                                        </action>
                                        <action behavior="SonicPhysics" id="11" name="Set vector X" sid="696954273128300" type="ply_Hitbox">
                                            <param id="0" name="Vector X">online_OtherChars.Value(0,&quot;vx&quot;)</param>
                                        </action>
                                        <action behavior="SonicPhysics" id="12" name="Set vector Y" sid="325503128232397" type="ply_Hitbox">
                                            <param id="0" name="Vector Y">online_OtherChars.Value(0,&quot;vy&quot;)</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="391297369006558">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="555487055373029" type="System">
                                                    <param id="0" name="First value">online_OtherChars.Value(0, &quot;mirrored&quot;)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="353416032831318" type="ply_Hitbox">
                                                    <param id="0" name="Instance variable">anim_isMirrored</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="496819966213172">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="596352881199339" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-13" name="Set boolean" sid="395092027213847" type="ply_Hitbox">
                                                    <param id="0" name="Instance variable">anim_isMirrored</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
